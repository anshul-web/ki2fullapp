(this.webpackJsonpgrocer=this.webpackJsonpgrocer||[]).push([[0],{104:function(e,t,c){},105:function(e,t,c){},110:function(e,t,c){},111:function(e,t,c){},112:function(e,t,c){},113:function(e,t,c){},114:function(e,t,c){},115:function(e,t,c){},116:function(e,t,c){},117:function(e,t,c){},118:function(e,t,c){"use strict";c.r(t);var r=c(2),a=c(1),n=c.n(a),s=c(26),i=c.n(s),o=(c(79),c(80),c(123)),l=c(128),d=c(7),j=c(122),u=c(124),b=c(71),O=c(125),p=c(11),h=c(13),x=c.n(h),m=c(16),f=c(68),E=c.n(f),S="GET_ALL_CATEGORIES_REQUEST",y="GET_ALL_CATEGORIES_SUCCESS",g="GET_ALL_CATEGORIES_FAILURE",v="ADD_NEW_CATEGORY_REQUEST",_="ADD_NEW_CATEGORY_SUCCESS",R="ADD_NEW_CATEGORY_FAILURE",D="GET_PRODUCTS_BY_SLUG_REQUEST",C="GET_PRODUCTS_BY_SLUG",k="GET_PRODUCTS_BY_SLUG_FAILURE",I="LOGIN_REQUEST",T="LOGIN_FAILURE",A="LOGIN_SUCCESS",U="LOGOUT_REQUEST",N="LOGOUT_SUCCESS",w="LOGOUT_FAILURE",L="SIGNUP_REQUEST",G="SIGNUP_SUCCESS",F="SIGNUP_FAILURE",P="ADD_TO_CART_REQUEST",q="ADD_TO_CART_SUCCESS",Q="ADD_TO_CART_FAILURE",M="RESET_CART",z="REMOVE_CART_ITEM_REQUEST",B="REMOVE_CART_ITEM_SUCCESS",H="REMOVE_CART_ITEM_FAILURE",Y={GET_USER_ADDRESS_REQUEST:"GET_USER_ADDRESS_REQUEST",GET_USER_ADDRESS_SUCCESS:"GET_USER_ADDRESS_SUCCESS",GET_USER_ADDRESS_FAILUE:"GET_USER_ADDRESS_FAILURE",ADD_USER_ADDRESS_REQUEST:"ADD_USER_ADDRESS_REQUEST",ADD_USER_ADDRESS_SUCCESS:"ADD_USER_ADDRESS_SUCCESS",ADD_USER_ADDRESS_FAILUE:"ADD_USER_ADDRESS_FAILURE",ADD_USER_ORDER_REQUEST:"ADD_USER_ORDER_REQUEST",ADD_USER_ORDER_SUCCESS:"ADD_USER_ORDER_SUCCESS",ADD_USER_ORDER_FAILUE:"ADD_USER_ORDER_FAILURE",GET_USER_ORDER_REQUEST:"GET_USER_ORDER_REQUEST",GET_USER_ORDER_SUCCESS:"GET_USER_ORDER_SUCCESS",GET_USER_ORDER_FAILUE:"GET_USER_ORDER_FAILURE",GET_USER_ORDER_DETAILS_REQUEST:"GET_USER_ORDER_DETAILS_REQUEST",GET_USER_ORDER_DETAILS_SUCCESS:"GET_USER_ORDER_DETAILS_SUCCESS",GET_USER_ORDER_DETAILS_FAILURE:"GET_USER_ORDER_DETAILS_FAILURE"},W=c(31),J=c(4),V=c(43),K=c(55),X={categories:[],loading:!1,error:null},Z=function e(t,c,r){var a=[];if(void 0==t)return[].concat(Object(K.a)(c),[{_id:r._id,name:r.name,slug:r.slug,categoryImage:r.categoryImage,children:[]}]);var n,s=Object(V.a)(c);try{for(s.s();!(n=s.n()).done;){var i=n.value;i._id==t?a.push(Object(J.a)(Object(J.a)({},i),{},{children:i.children?e(t,[].concat(Object(K.a)(i.children),[{_id:r._id,name:r.name,slug:r.slug,parentId:r.parentId,categoryImage:r.categoryImage,children:r.children}]),r):[]})):a.push(Object(J.a)(Object(J.a)({},i),{},{children:i.children?e(t,i.children,r):[]}))}}catch(o){s.e(o)}finally{s.f()}return a},$={products:[],loading:!1},ee={token:null,user:{firstName:"",lastName:"",email:"",picture:""},authenticate:!1,authenticating:!1,loading:!1,error:"",message:""},te={cartItems:{},updatingCart:!1,error:null},ce={address:[],orders:[],orderDetails:{},error:null,loading:!1,orderFetching:!1,placedOrderId:null},re=Object(W.combineReducers)({category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:e=Object(J.a)(Object(J.a)({},e),{},{loading:!0});break;case y:e=Object(J.a)(Object(J.a)({},e),{},{categories:t.payload.categories,loading:!1});break;case v:e=Object(J.a)(Object(J.a)({},e),{},{loading:!1});break;case _:var c=t.payload.category,r=Z(c.parentId,e.categories,c);e=Object(J.a)(Object(J.a)({},e),{},{categories:r,loading:!1});break;case R:e=Object(J.a)({},X)}return e},product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:e=Object(J.a)(Object(J.a)({},e),{},{loading:!0});break;case C:e=Object(J.a)(Object(J.a)({},e),{},{products:t.payload.products,loading:!1});break;case k:e=Object(J.a)({},$)}return e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:e=Object(J.a)(Object(J.a)({},e),{},{authenticating:!0,loading:!0});break;case A:e=Object(J.a)(Object(J.a)({},e),{},{user:t.payload.user,token:t.payload.token,authenticate:!0,authenticating:!1,loading:!1});break;case T:e=Object(J.a)(Object(J.a)({},e),{},{error:t.payload.error,loading:!1});break;case U:e=Object(J.a)(Object(J.a)({},e),{},{loading:!0});break;case N:e=Object(J.a)({},ee);break;case w:e=Object(J.a)(Object(J.a)({},e),{},{error:t.payload.error,loading:!1});break;case L:e={loading:!0};break;case G:e={loading:!1};break;case F:e=Object(J.a)(Object(J.a)({},e),{},{error:t.payload.error,loading:!1})}return e},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:e=Object(J.a)(Object(J.a)({},e),{},{updatingCart:!0});break;case q:e=Object(J.a)(Object(J.a)({},e),{},{cartItems:t.payload.cartItems,updatingCart:!1});break;case Q:e=Object(J.a)(Object(J.a)({},e),{},{updatingCart:!1,error:t.payload.error})}return e},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.GET_USER_ADDRESS_REQUEST:e=Object(J.a)(Object(J.a)({},e),{},{loading:!0});break;case Y.GET_USER_ADDRESS_SUCCESS:e=Object(J.a)(Object(J.a)({},e),{},{address:t.payload.address,loading:!1});break;case Y.GET_USER_ADDRESS_FAILURE:e=Object(J.a)(Object(J.a)({},e),{},{loading:!1,error:t.payload.error});break;case Y.ADD_USER_ADDRESS_REQUEST:e=Object(J.a)(Object(J.a)({},e),{},{loading:!0});break;case Y.ADD_USER_ADDRESS_SUCCESS:e=Object(J.a)(Object(J.a)({},e),{},{address:t.payload.address,loading:!1});break;case Y.ADD_USER_ADDRESS_FAILURE:e=Object(J.a)(Object(J.a)({},e),{},{loading:!1,error:t.payload.error});break;case Y.GET_USER_ORDER_REQUEST:e=Object(J.a)(Object(J.a)({},e),{},{orderFetching:!0});break;case Y.GET_USER_ORDER_SUCCESS:e=Object(J.a)(Object(J.a)({},e),{},{orders:t.payload.orders,orderFetching:!1});break;case Y.GET_USER_ORDER_FAILURE:e=Object(J.a)(Object(J.a)({},e),{},{error:t.payload.error,orderFetching:!1});break;case Y.GET_USER_ORDER_DETAILS_REQUEST:break;case Y.GET_USER_ORDER_DETAILS_SUCCESS:e=Object(J.a)(Object(J.a)({},e),{},{orderDetails:t.payload.order});break;case Y.GET_USER_ORDER_DETAILS_FAILURE:break;case Y.ADD_USER_ORDER_SUCCESS:e=Object(J.a)(Object(J.a)({},e),{},{placedOrderId:t.payload.order._id})}return e}}),ae=c(69),ne=c(70),se=Object(W.createStore)(re,Object(ae.composeWithDevTools)(Object(W.applyMiddleware)(ne.a))),ie=function(e){return"http://143.110.253.141/public/".concat(e)},oe=window.localStorage.getItem("token"),le=E.a.create({baseURL:"http://143.110.253.141:8900/api",headers:{Authorization:oe?"Bearer ".concat(oe):""}});le.interceptors.request.use((function(e){var t=se.getState().auth;return t.token&&(e.headers.Authorization="Bearer ".concat(t.token)),e}));var de=le,je=function(){return function(){var e=Object(m.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:S}),e.next=3,de.get("category/getcategory");case 3:200===(c=e.sent).status?(r=c.data.categoryList,t({type:y,payload:{categories:r}})):t({type:g,payload:{error:c.data.error}});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ue=(c(104),function(e){var t=Object(p.c)((function(e){return e.category})),c=Object(p.b)();Object(a.useEffect)((function(){c(je())}),[]);var n=Object(a.useState)(!1),s=Object(d.a)(n,2),i=s[0],l=s[1];return Object(r.jsx)(o.a,{fluid:!0,className:"drop__down",children:Object(r.jsxs)("div",{className:"text-center",style:{padding:"4px"},children:[Object(r.jsx)(u.a,{className:"btn__margin",onClick:function(){return l(!i)},"aria-controls":"example-fade-text","aria-expanded":i,children:"Shop By Category \u25bc"}),Object(r.jsx)(b.a,{in:i,children:Object(r.jsx)(O.a,{className:"justify-content-md-center",children:t.categories.length>0?function(e){if(e)return e.map((function(e){return Object(r.jsx)(j.a,{sm:6,md:4,lg:!0,xs:6,children:Object(r.jsx)("a",{href:"/product/".concat(e.slug),children:e.name})})}))}(t.categories):null})})]})})}),be=c(19),Oe=c(133),pe=c(132),he=c(28),xe=c(131),me=function(e){return Object(r.jsxs)(xe.a,Object(J.a)(Object(J.a)({},e),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(r.jsx)(xe.a.Header,{closeButton:!0,children:Object(r.jsx)(xe.a.Title,{id:"contained-modal-title-vcenter",children:e.modalTitle})}),Object(r.jsx)(xe.a.Body,{children:e.children}),Object(r.jsx)(xe.a.Footer,{children:Object(r.jsx)(u.a,{onClick:e.onHide,children:"Close"})})]}))},fe=(c(105),function(e){var t=Object(a.useState)(""!==e.value),c=Object(d.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)(!1),o=Object(d.a)(i,2),l=o[0],j=o[1];return Object(r.jsxs)("div",{className:"materialInput",children:[Object(r.jsx)("label",{className:"label ".concat(n?"focus":""),style:{top:0,lineHeight:"none"},children:e.label&&"".concat(e.label)}),Object(r.jsxs)("div",{style:{display:"flex"},children:[Object(r.jsx)("input",{className:"input",type:e.type,value:e.value,onChange:e.onChange,readOnly:e.readOnly,error:e.error,onFocus:function(e){s(!0),j(!0)},onBlur:function(e){""===e.target.value?s(!1):j(!1)}}),e.rightElement?e.rightElement:null]}),l&&Object(r.jsx)("div",{style:{fontSize:"10px",color:"red",fontWeight:500},children:"".concat(e.error)})]})}),Ee=function(e){return Object(r.jsx)("div",{style:Object(J.a)({width:"100%"},e.style),children:Object(r.jsxs)("button",{className:"materialButton",style:{backgroundColor:e.bgColor,color:e.textColor,fontSize:e.fontSize},onClick:function(){e.onClick&&e.onClick()},children:[e.icon&&e.icon,e.title&&e.title]})})},Se=function(e){return Object(r.jsx)("div",{className:"breed",children:Object(r.jsx)("ul",{children:e.breed&&e.breed.map((function(t,c){return Object(r.jsxs)("li",{children:[Object(r.jsx)(be.b,{to:t.href,children:t.name}),e.breedIcon]},c)}))})})},ye=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(c){var r,a,n,s,i,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:L}),t.next=4,de.post("/signup",e);case 4:201===(r=t.sent).status?(c({type:G}),a=r.data,n=a.token,s=a.user,localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(s)),c({type:A,payload:{token:n,user:s}})):(i=r.data.error,c({type:F,payload:{error:i}})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),o=t.t0.response.data,c({type:F,payload:{error:o.error}});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},ge=function(e){return function(){var t=Object(m.a)(x.a.mark((function t(c){var r,a,n,s,i,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:I}),t.next=4,de.post("/signin",Object(J.a)({},e));case 4:200===(r=t.sent).status?(a=r.data,n=a.token,s=a.user,localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(s)),c({type:A,payload:{token:n,user:s}})):(i=r.data.error,c({type:F,payload:{error:i}})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),o=t.t0.response.data,c({type:T,payload:{error:o.error}});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},ve=function(){return function(){var e=Object(m.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:P}),e.next=4,de.post("/user/getCartItems");case 4:200===(c=e.sent).status&&(r=c.data.cartItems)&&t({type:q,payload:{cartItems:r}}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var c=Object(m.a)(x.a.mark((function c(r){var a,n,s,i,o;return x.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a=se.getState(),n=a.cart.cartItems,s=a.auth,i=n[e._id]?parseInt(n[e._id].qty+t):1,n[e._id]=Object(J.a)(Object(J.a)({},e),{},{qty:i}),!s.authenticate){c.next=12;break}return r({type:P}),o={cartItems:[{product:e._id,quantity:i}]},c.next=8,de.post("/user/cart/addtocart",o);case 8:201===c.sent.status&&r(ve()),c.next=13;break;case 12:localStorage.setItem("cart",JSON.stringify(n));case 13:r({type:q,payload:{cartItems:n}});case 14:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},Re=function(e){var t=Object(a.useState)(""),c=Object(d.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)(""),l=Object(d.a)(i,2),j=l[0],u=l[1],b=Object(a.useState)(!1),O=Object(d.a)(b,2),h=O[0],f=O[1],E=Object(a.useState)(!1),S=Object(d.a)(E,2),y=S[0],g=S[1],v=Object(a.useState)(!1),_=Object(d.a)(v,2),R=_[0],D=_[1],C=Object(a.useState)(""),k=Object(d.a)(C,2),I=k[0],T=k[1],A=Object(a.useState)(""),w=Object(d.a)(A,2),L=w[0],G=w[1],F=Object(a.useState)(null),P=Object(d.a)(F,2),q=(P[0],P[1],Object(p.c)((function(e){return e.auth}))),Q=Object(p.c)((function(e){return e.cart})),z=Object(p.b)(),B=Object(a.useState)(!1),H=Object(d.a)(B,2),Y=(H[0],H[1],Object(a.useState)("")),W=Object(d.a)(Y,2),J=(W[0],W[1]);return Object(a.useEffect)((function(){q.authenticate&&f(!1)}),[q.authenticate]),Object(r.jsx)(Oe.a,{collapseOnSelect:!0,fixed:"top",expand:"lg",variant:"dark",style:{zIndex:1,display:"flex",backgroundColor:"#2874f0"},children:Object(r.jsxs)(o.a,{fluid:!0,children:[Object(r.jsx)(me,{show:R,onHide:function(){return D(!1)},modalTitle:"ACCOUNT DETAILS",children:Object(r.jsxs)("div",{style:{lineHeight:"20px"},children:[Object(r.jsxs)("h5",{children:["Name :",q.user.fullName]}),Object(r.jsxs)("h5",{children:["Email :",q.user.email]}),Object(r.jsx)("a",{onClick:function(){D(!1),z(function(){var e=Object(m.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:U}),localStorage.clear(),t({type:N}),t({type:M});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]})}),Object(r.jsx)(me,{show:h,onHide:function(){return f(!1)},modalTitle:y?"Register":"Login",children:Object(r.jsxs)("div",{style:{padding:"0px 5px"},children:[Object(r.jsx)("div",{children:J}),y&&Object(r.jsx)(fe,{type:"text",label:"First Name",error:"",value:I,onChange:function(e){return T(e.target.value)}}),y&&Object(r.jsx)(fe,{type:"text",label:"Last Name",error:"",value:L,onChange:function(e){return G(e.target.value)}}),Object(r.jsx)(fe,{type:"email",label:"Email Address",value:n,error:"",onChange:function(e){return s(e.target.value)}}),Object(r.jsx)(fe,{type:"password",label:"Password",error:"",value:j,onChange:function(e){return u(e.target.value)}}),Object(r.jsxs)("div",{style:{marginTop:"20px"},children:[q.error&&Object(r.jsx)("div",{style:{color:"red",fontSize:12},children:q.error}),q.loading&&Object(r.jsx)("div",{children:"loading...."}),Object(r.jsx)(Ee,{title:y?"REGISTER":"LOGIN",onClick:function(){z(y?ye({firstName:I,lastName:L,email:n,password:j}):ge({email:n,password:j}))}})]}),y?null:Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)("p",{children:"New Customer"}),Object(r.jsx)("button",{onClick:function(){return g(!0)},children:"create new account"})]})]})}),Object(r.jsx)(pe.a,{style:{marginRight:"1em",fontSize:"25px"},children:Object(r.jsxs)(be.c,{className:"nav-link",to:"/cart",children:[Object(r.jsx)(he.c,{}),Object.keys(Q.cartItems).length>0?Object(r.jsx)("span",{style:{backgroundColor:"#dd0608",fontSize:"10px",position:"absolute",padding:"3px 6px",borderRadius:"50%",color:"#fff"},children:Object.keys(Q.cartItems).length}):null]})}),Object(r.jsx)(be.c,{to:"/",children:Object(r.jsx)(Oe.a.Brand,{style:{alignItems:"center",fontSize:"25px"},children:Object(r.jsxs)("i",{children:[Object(r.jsx)("b",{children:"ki2"}),"mart",Object(r.jsx)("span",{style:{fontSize:"14px"},children:".com"})]})})}),Object(r.jsx)(Oe.a.Toggle,{"aria-controls":"responsive-navbar-nav",className:"navbar-left"}),Object(r.jsxs)(Oe.a.Collapse,{id:"responsive-navbar-nav",children:[Object(r.jsx)(pe.a,{className:"mr-auto"}),Object(r.jsxs)(pe.a,{children:[q.authenticate?Object(r.jsx)(pe.a,{className:"nav-link",children:Object(r.jsxs)("i",{onClick:function(){return D(!0)},children:["Hello ",q.user.firstName]})}):Object(r.jsx)(pe.a,{className:"nav-link",style:{cursor:"pointer"},onClick:function(){f(!0),g(!1)},children:"Sign in"}),Object(r.jsx)(be.c,{to:"/category",className:"nav-link",children:"Category"}),Object(r.jsx)(be.c,{to:"/account/orders",className:"nav-link",children:"Orders"})]})]})]})})},De=function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Re,{}),Object(r.jsx)("div",{style:{marginTop:"75px"}}),e.children]})},Ce=c(130),ke=c(126),Ie=c(127);c(109);Ce.a.use([ke.a,Ie.a]);var Te=function(e){var t=Object(p.c)((function(e){return e.category})),c=Object(p.b)();Object(a.useEffect)((function(){c(je())}),[]);return Object(r.jsx)(o.a,{children:Object(r.jsxs)("div",{style:{marginTop:"65px"},children:[Object(r.jsx)("h4",{children:"SHOP BY CATEGORIES"}),t.loading&&Object(r.jsx)("div",{children:"loading"}),Object(r.jsx)(O.a,{children:t.categories.length>0?function(e){if(e)return e.map((function(e){return console.log(e),Object(r.jsx)(j.a,{xs:12,sm:6,md:4,lg:3,children:Object(r.jsx)("a",{href:"/product/".concat(e.slug),children:Object(r.jsx)(l.a,{src:"./images/".concat(e.name,".png"),thumbnail:!0})})})}))}(t.categories):null})]})})},Ae=function(e){return Object(r.jsx)(De,{children:Object(r.jsxs)(o.a,{fluid:!0,style:{marginTop:"100px",backgroundColor:"#fff"},children:[Object(r.jsx)(o.a,{children:Object(r.jsx)(l.a,{height:"400px",src:"./images/slides.jpg",alt:"grocery store"})}),Object(r.jsx)(Te,{})]})})},Ue=c(15),Ne=(c(110),function(e){var t=Object(p.c)((function(e){return e.product})),c=Object(p.c)((function(e){return e.cart})),n=Object(p.b)();Object(a.useEffect)((function(){var t,c=e.match;n((t=c.params.slug,function(){var e=Object(m.a)(x.a.mark((function e(c){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:D}),e.next=4,de.get("/products/".concat(t));case 4:200===(r=e.sent).status&&c({type:C,payload:r.data}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))}),[]);return Object(r.jsxs)(De,{children:[Object(r.jsx)(ue,{}),Object(r.jsxs)(o.a,{fluid:!0,style:{backgroundColor:"#fff"},children:[Object(r.jsx)("h3",{children:e.match.params.slug}),Object(r.jsxs)(O.a,{children:[t.loading&&Object(r.jsx)("div",{children:"loding..."}),t.products?function(e){var t,a=[],s=Object(V.a)(e);try{var i=function(){var e=t.value,s=Object.keys(c.cartItems).filter((function(t){return c.cartItems[t]._id==e._id}));a.push(Object(r.jsx)(j.a,{md:6,sm:12,lg:4,children:Object(r.jsx)("div",{className:"text-left product-box",children:Object(r.jsxs)(O.a,{children:[Object(r.jsx)(j.a,{xs:5,md:4,sm:4,lg:4,children:Object(r.jsx)(l.a,{className:"img-thumbnail",src:ie(e.productPictures[0].img),alt:"".concat(e.name," image"),thumbnail:!0})}),Object(r.jsxs)(j.a,{xs:7,md:8,sm:8,lg:8,children:[Object(r.jsx)("div",{className:"product__name",children:e.name}),Object(r.jsxs)("div",{style:{lineHeight:"40px"},children:[Object(r.jsxs)("span",{className:"product__name",children:["\u20b9 ",e.price]}),e.quantity>e.price?Object(r.jsxs)(r.Fragment,{children:[" ",Object(r.jsxs)("span",{className:"product__info",children:[" ",Object(r.jsxs)("del",{children:["\u20b9",e.quantity]})," "]}),Object(r.jsxs)("span",{className:"product__info2",children:["(",Math.round((e.quantity-e.price)/e.quantity*100),"% OFF)"]})]}):null]}),Object(r.jsx)("div",{children:s.length>0?Object(r.jsx)("button",{style:{backgroundColor:"#fb641b",border:"none",color:"#fff"},children:"Added To Cart"}):Object(r.jsx)("button",{style:{backgroundColor:"#00a100",border:"none",color:"#fff"},onClick:function(){var t=e._id,c=e.name,r=e.price,a=e.quantity,s=e.productPictures[0].img;n(_e({_id:t,name:c,price:r,quantity:a,img:s}))},children:"Add to Cart"})})]})]})})},e._id))};for(s.s();!(t=s.n()).done;)i()}catch(o){s.e(o)}finally{s.f()}return a}(t.products):Object(r.jsx)("h1",{children:"No Products for this Category"})]})]})]})}),we=(c(111),function(e){var t=Object(a.useState)(e.cartItem.qty),c=Object(d.a)(t,2),n=c[0],s=c[1],i=e.cartItem,o=i._id,u=i.name,b=i.price,h=i.quantity,x=i.img,m=Object(p.c)((function(e){return e.auth}));return Object(r.jsxs)(O.a,{style:{padding:"4px 0px"},children:[Object(r.jsxs)(j.a,{xs:5,md:4,sm:4,lg:2,className:"text-center",style:{borderBottom:"1px solid rgba(0,0,0,.1)",padding:"4px 0px"},children:[Object(r.jsx)(l.a,{className:"img-thumbnail",src:ie(x),thumbnail:!0}),m.authenticate?Object(r.jsx)("div",{onClick:function(){return e.onRemoveCartItem(o)},style:{fontSize:"12px"},children:"Remove"}):null]}),Object(r.jsxs)(j.a,{xs:7,md:8,sm:8,lg:10,style:{borderBottom:"1px solid rgba(0,0,0,.1)",padding:"4px 0px"},children:[Object(r.jsx)("div",{style:{lineHeight:"25px"},className:"product__name",children:u}),Object(r.jsxs)("div",{style:{lineHeight:"25px"},children:[Object(r.jsxs)("span",{className:"product__name",children:["\u20b9 ",b*n]}),Object(r.jsxs)("span",{className:"product__info",children:[" ","(",Object(r.jsx)("del",{children:Object(r.jsxs)("i",{children:["\u20b9 ",h*n]})}),")"," "]}),Object(r.jsxs)("span",{className:"product__info1",children:["(",Math.round((h-b)/h*100),"% OFF)"]})]}),Object(r.jsxs)("div",{className:"text-right",children:[Object(r.jsx)(he.d,{style:{fontSize:"24px",cursor:"pointer",color:"darkred"},onClick:function(){n<=1||(s(n-1),e.onQuantityDec(o,n-1))}})," ",Object(r.jsxs)("span",{children:[n," "," "]}),Object(r.jsx)(he.a,{style:{fontSize:"24px",cursor:"pointer",color:"darkgreen"},onClick:function(){s(n+1),e.onQuantityInc(o,n+1)}})]})]})]})}),Le=c(129),Ge=function(e){return Object(r.jsxs)(Le.a,{size:"sm",children:[Object(r.jsx)("thead",{children:Object(r.jsx)("h5",{children:"Payment Details"})}),Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{children:["Price (",e.totalItem," items)"]}),Object(r.jsxs)("td",{children:["\u20b9",e.totalMrp]})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Discount"}),Object(r.jsxs)("td",{children:["-\u20b9",e.totalMrp-e.totalPrice]})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Delivery Charges"}),e.totalPrice>499?Object(r.jsx)("td",{style:{color:"#00a100"},children:"FREE"}):Object(r.jsx)("td",{children:"+ \u20b918"})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:Object(r.jsx)("b",{children:"Total Payable Amount"})}),e.totalPrice>499?Object(r.jsx)("td",{children:Object(r.jsxs)("b",{children:["\u20b9",e.totalPrice]})}):Object(r.jsx)("td",{children:Object(r.jsxs)("b",{children:["\u20b9",e.totalPrice+18]})})]}),Object(r.jsx)("tr",{style:{textAlign:"end"},children:Object(r.jsx)("td",{colSpan:"2",style:{color:"#00a100"},children:Object(r.jsxs)("b",{children:["you save \u20b9",e.totalMrp-e.totalPrice]})})})]})]})},Fe=(c(112),function(e){var t=Object(a.useState)(""),c=Object(d.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)(""),l=Object(d.a)(i,2),u=l[0],b=l[1],h=Object(a.useState)(!1),f=Object(d.a)(h,2),E=f[0],S=f[1],y=Object(a.useState)(!1),g=Object(d.a)(y,2),v=g[0],_=g[1],R=Object(a.useState)(""),D=Object(d.a)(R,2),C=D[0],k=D[1],I=Object(a.useState)(""),T=Object(d.a)(I,2),A=T[0],U=T[1],N=Object(a.useState)(null),w=Object(d.a)(N,2),L=(w[0],w[1],Object(p.c)((function(e){return e.auth})));Object(a.useEffect)((function(){L.authenticate&&S(!1)}),[L.authenticate]);var G=Object(p.c)((function(e){return e.cart})),F=Object(a.useState)(G.cartItems),P=Object(d.a)(F,2),q=P[0],Q=P[1],M=Object(p.b)();Object(a.useEffect)((function(){Q(G.cartItems)}),[G.cartItems]),Object(a.useEffect)((function(){L.authenticate&&M(ve())}),[L.authenticate]);var Y=function(e,t){var c=q[e],r=c.name,a=c.price,n=c.quantity,s=c.img;M(_e({_id:e,name:r,price:a,quantity:n,img:s},1))},W=function(e,t){var c=q[e],r=c.name,a=c.price,n=c.quantity,s=c.img;M(_e({_id:e,name:r,price:a,quantity:n,img:s},-1))},J=function(e){var t;M((t={productId:e},function(){var e=Object(m.a)(x.a.mark((function e(c){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:z}),e.next=4,de.post("/user/cart/removeItem",{payload:t});case 4:202===(r=e.sent).status?(c({type:B}),c(ve())):(a=r.data.error,c({type:H,payload:{error:a}})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))};if(e.onlyCartItems)return Object(r.jsx)(r.Fragment,{children:Object.keys(q).map((function(e,t){return Object(r.jsx)(we,{cartItem:q[e],onQuantityInc:Y,onQuantityDec:W,onRemoveCartItem:J},t)}))});return Object(r.jsx)(De,{children:Object(r.jsxs)(o.a,{children:[Object(r.jsx)(me,{show:E,onHide:function(){return S(!1)},modalTitle:v?"Register":"Login",children:Object(r.jsxs)("div",{style:{padding:"0px 5px"},children:[v&&Object(r.jsx)(fe,{type:"text",label:"First Name",error:"",value:C,onChange:function(e){return k(e.target.value)}}),v&&Object(r.jsx)(fe,{type:"text",label:"Last Name",error:"",value:A,onChange:function(e){return U(e.target.value)}}),Object(r.jsx)(fe,{type:"email",label:"Email Address",error:"",value:n,onChange:function(e){return s(e.target.value)}}),Object(r.jsx)(fe,{type:"password",label:"Password",error:"",value:u,onChange:function(e){return b(e.target.value)}}),Object(r.jsxs)("div",{style:{marginTop:"20px",marginBottom:"20px"},children:[L.error&&Object(r.jsx)("div",{style:{color:"red",fontSize:12},children:L.error}),Object(r.jsx)(Ee,{title:v?"REGISTER":"LOGIN",onClick:function(){M(v?ye({firstName:C,lastName:A,email:n,password:u}):ge({email:n,password:u}))}})]}),v?null:Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)("div",{children:"New Customer"}),Object(r.jsx)("button",{onClick:function(){return _(!0)},children:"create new account"})]})]})}),Object(r.jsx)("div",{style:{marginTop:"70px"}}),Object.keys(q).length>0?Object(r.jsxs)(O.a,{children:[Object(r.jsx)(j.a,{xs:12,sm:12,md:8,lg:8,style:{marginTop:"5px"},children:Object(r.jsxs)("div",{className:"grocery__basket",children:[Object(r.jsx)("h5",{children:"Groceries Basket"}),Object(r.jsx)("hr",{}),Object.keys(q).map((function(e,t){return Object(r.jsx)(we,{cartItem:q[e],onQuantityInc:Y,onQuantityDec:W,onRemoveCartItem:J},t)}))]})}),Object(r.jsxs)(j.a,{xs:12,sm:12,md:4,lg:4,style:{marginTop:"5px"},children:[Object(r.jsx)("div",{className:"grocery__basket",children:Object(r.jsx)(Ge,{totalItem:Object.keys(q).reduce((function(e,t){return e+q[t].qty}),0),totalPrice:Object.keys(q).reduce((function(e,t){var c=q[t];return e+c.price*c.qty}),0),totalMrp:Object.keys(q).reduce((function(e,t){var c=q[t];return e+c.quantity*c.qty}),0)})}),Object(r.jsx)("div",{style:{marginTop:"5px"},children:Object(r.jsx)(Ee,{title:"PLACE ORDER",onClick:function(){L.authenticate?e.history.push("/checkout"):(S(!0),_(!1))}})})]})]}):Object(r.jsx)("h3",{children:"No Item Added To Cart"})]})})}),Pe=(c(113),function(e){return Object(r.jsx)("button",Object(J.a)(Object(J.a)({},e),{},{className:"anchorButton",children:e.name}))}),qe=(c(114),function(e){return Object(r.jsx)("div",{style:Object(J.a)({width:"100%"},e.style),children:Object(r.jsxs)("button",{className:"materialButton",style:{backgroundColor:e.bgColor,color:e.textColor,fontSize:e.fontSize},onClick:function(){e.onClick&&e.onClick()},children:[e.icon&&e.icon,e.title&&e.title]})})}),Qe=(c(66),function(e){var t=e.initialData,c=Object(a.useState)(t?t.name:""),n=Object(d.a)(c,2),s=n[0],i=n[1],o=Object(a.useState)(t?t.mobileNumber:""),l=Object(d.a)(o,2),j=l[0],u=l[1],b=Object(a.useState)(t?t.pinCode:473331),O=Object(d.a)(b,2),h=O[0],f=(O[1],Object(a.useState)(t?t.locality:"")),E=Object(d.a)(f,2),S=E[0],y=E[1],g=Object(a.useState)(t?t.address:""),v=Object(d.a)(g,2),_=v[0],R=v[1],D=Object(a.useState)(t?t.cityDistrictTown:"Ashoknagar"),C=Object(d.a)(D,2),k=C[0],I=(C[1],Object(a.useState)(t?t.state:"Madhya Pradesh")),T=Object(d.a)(I,2),A=T[0],U=(T[1],Object(a.useState)(t?t.landmark:"")),N=Object(d.a)(U,2),w=N[0],L=N[1],G=Object(a.useState)(t?t.alternatePhone:""),F=Object(d.a)(G,2),P=F[0],q=F[1],Q=Object(a.useState)(t?t.addressType:""),M=Object(d.a)(Q,2),z=M[0],B=M[1],H=Object(p.b)(),W=Object(p.c)((function(e){return e.user})),J=Object(a.useState)(!1),V=Object(d.a)(J,2),K=V[0],X=V[1],Z=Object(a.useState)(t?t._id:""),$=Object(d.a)(Z,2),ee=$[0],te=($[1],{width:"fit-content",marginRight:10}),ce=function(e){var t={address:{name:s,mobileNumber:j,pinCode:h,locality:S,address:_,cityDistrictTown:k,state:A,landmark:w,alternatePhone:P,addressType:z}};ee&&(t.address._id=ee),H(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(c){var r,a,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,de.post("/user/address/create",{payload:e});case 3:r=t.sent,c({type:Y.ADD_USER_ADDRESS_REQUEST}),201===r.status?(console.log(r),a=r.data.address.address,c({type:Y.ADD_USER_ADDRESS_SUCCESS,payload:{address:a}})):(n=r.data.error,c({type:Y.ADD_USER_ADDRESS_FAILURE,payload:{error:n}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t)),X(!0)};Object(a.useEffect)((function(){if(K){var t={};t=ee?{_id:ee,name:s,mobileNumber:j,pinCode:h,locality:S,address:_,cityDistrictTown:k,state:A,landmark:w,alternatePhone:P,addressType:z}:W.address.slice(W.address.length-1)[0],e.onSubmitForm(t)}}),[W.address]);var re=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{style:te,children:Object(r.jsx)(fe,{label:"Full Name*",value:s,error:"Required",onChange:function(e){return i(e.target.value)}})}),Object(r.jsx)("div",{style:te,children:Object(r.jsx)(fe,{label:"Phone number*",value:j,error:"Required",onChange:function(e){return u(e.target.value)}})}),Object(r.jsxs)("div",{className:"",children:[Object(r.jsx)("div",{style:te,children:Object(r.jsx)(fe,{label:"Pincode",readOnly:"true",error:"",value:h})}),Object(r.jsx)("div",{style:te,children:Object(r.jsx)(fe,{label:"House No., BuildingName*",value:S,error:"Required",onChange:function(e){return y(e.target.value)}})})]}),Object(r.jsx)("div",{className:"",children:Object(r.jsx)("div",{style:te,children:Object(r.jsx)(fe,{label:"Road name, Area, Colony*",value:_,error:"Required",onChange:function(e){return R(e.target.value)}})})}),Object(r.jsxs)("div",{className:"",children:[Object(r.jsx)("div",{style:te,children:Object(r.jsx)(fe,{label:"City*",readOnly:"true",error:"",value:k})}),Object(r.jsx)("div",{style:te,children:Object(r.jsx)(fe,{label:"State",readOnly:"true",error:"",value:A})})]}),Object(r.jsxs)("div",{className:"",children:[Object(r.jsx)("div",{style:te,children:Object(r.jsx)(fe,{label:"Landmark",value:w,error:"",onChange:function(e){return L(e.target.value)}})}),Object(r.jsx)("div",{style:te,children:Object(r.jsx)(fe,{label:"Alternate Phone",value:P,error:"",onChange:function(e){return q(e.target.value)}})})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{style:{marginTop:"20px"},children:"Address Type*"}),Object(r.jsxs)("div",{className:"flexRow",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"radio",onClick:function(){return B("home")},name:"addressType",value:"home"}),Object(r.jsx)("span",{children:"Home"})]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{type:"radio",onClick:function(){return B("work")},name:"addressType",value:"work"}),Object(r.jsx)("span",{children:"Work"})]})]})]}),Object(r.jsx)("div",{className:"flexRow",children:""===s||j.length<10||""===S||""===_||""===z?Object(r.jsx)(Ee,{title:"SAVE AND DELIVER HERE",bgColor:"gray",style:{width:"250px",margin:"20px 0"}}):Object(r.jsx)(Ee,{title:"SAVE AND DELIVER HERE",onClick:ce,style:{width:"250px",margin:"20px 0"}})})]})};return e.withoutLayout?Object(r.jsx)("div",{children:re()}):Object(r.jsxs)("div",{className:"checkoutStep",style:{background:"#f5faff"},children:[Object(r.jsx)("div",{className:"checkoutHeader",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"stepNumber",children:"+"}),Object(r.jsx)("span",{className:"stepTitle",children:"ADD NEW ADDRESS"})]})}),Object(r.jsx)("div",{style:{padding:"0 60px",paddingBottom:"20px",boxSizing:"border-box"},children:re()})]})}),Me=function(e){return Object(r.jsxs)("div",{className:"checkoutStep",children:[Object(r.jsx)("div",{onClick:e.onClick,className:"checkoutHeader ".concat(e.active&&"active"),children:Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"stepNumber",children:e.stepNumber}),Object(r.jsx)("span",{className:"stepTitle",children:e.title})]})}),e.body&&e.body]})},ze=function(e){var t=e.adr,c=e.selectAddress,a=e.enableAddressEditForm,n=e.confirmDeliveryAddress,s=e.onAddressSubmit;return Object(r.jsxs)("div",{className:"flexRow addressContainer",children:[Object(r.jsx)("div",{children:Object(r.jsx)("input",{name:"address",onClick:function(){return c(t)},type:"radio"})}),Object(r.jsx)("div",{className:"flexRow sb addressinfo",children:t.edit?Object(r.jsx)(Qe,{withoutLayout:!0,onSubmitForm:s,initialData:t,onCancel:function(){}}):Object(r.jsxs)("div",{style:{width:"100%"},children:[Object(r.jsxs)("div",{className:"addressDetail",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("span",{className:"addressName",children:t.name}),Object(r.jsx)("span",{className:"addressType",children:t.addressType}),Object(r.jsx)("span",{className:"addressMobileNumber",children:t.mobileNumber})]}),t.selected&&Object(r.jsx)(Pe,{name:"EDIT",onClick:function(){return a(t)},style:{fontWeight:"500",color:"#2874f0"}})]}),Object(r.jsxs)("div",{className:"fullAddress",children:[t.address," ",Object(r.jsx)("br",{})," ","".concat(t.state," - ").concat(t.pinCode)]}),t.selected&&Object(r.jsx)(qe,{title:"DELIVERY HERE",onClick:function(){return n(t)},style:{width:"200px",margin:"10px 0"}})]})})]})},Be=function(e){var t=Object(p.c)((function(e){return e.user})),c=Object(p.c)((function(e){return e.auth})),n=Object(a.useState)(!1),s=Object(d.a)(n,2),i=s[0],l=s[1],u=Object(a.useState)([]),b=Object(d.a)(u,2),h=b[0],f=b[1],E=Object(a.useState)(!1),S=Object(d.a)(E,2),y=S[0],g=S[1],v=Object(a.useState)(null),_=Object(d.a)(v,2),R=_[0],D=_[1],C=Object(a.useState)(!1),k=Object(d.a)(C,2),I=k[0],T=k[1],A=Object(a.useState)(!1),U=Object(d.a)(A,2),N=U[0],w=U[1],L=Object(a.useState)(!1),G=Object(d.a)(L,2),F=G[0],P=G[1],q=Object(a.useState)(!1),Q=Object(d.a)(q,2),M=Q[0],z=Q[1],B=Object(p.c)((function(e){return e.cart})),H=Object(p.b)(),W=function(e){D(e),g(!0),T(!0)},V=function(e){var t=h.map((function(t){return t._id===e._id?Object(J.a)(Object(J.a)({},t),{},{selected:!0}):Object(J.a)(Object(J.a)({},t),{},{selected:!1})}));f(t)},K=function(e){D(e),g(!0),T(!0)},X=function(e){var t=h.map((function(t){return t._id===e._id?Object(J.a)(Object(J.a)({},t),{},{edit:!0}):Object(J.a)(Object(J.a)({},t),{},{edit:!1})}));f(t)};return Object(a.useEffect)((function(){c.authenticate&&H(function(){var e=Object(m.a)(x.a.mark((function e(t){var c,r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.post("/user/getaddress");case 3:c=e.sent,t({type:Y.GET_USER_ADDRESS_REQUEST}),200===c.status?(r=c.data.userAddress.address,t({type:Y.GET_USER_ADDRESS_SUCCESS,payload:{address:r}})):(a=c.data.error,t({type:Y.GET_USER_ADDRESS_FAILURE,payload:{error:a}})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),c.authenticate&&H(ve())}),[c.authenticate]),Object(a.useEffect)((function(){var e=t.address.map((function(e){return Object(J.a)(Object(J.a)({},e),{},{selected:!1,edit:!1})}));f(e)}),[t.address]),Object(a.useEffect)((function(){M&&t.placedOrderId&&e.history.push("/order_details/".concat(t.placedOrderId))}),[t.placedOrderId]),Object(r.jsx)(De,{children:Object(r.jsx)(o.a,{style:{marginTop:"75px"},children:Object(r.jsxs)(O.a,{className:"cartContainer",style:{alignItems:"flex-start"},children:[Object(r.jsxs)(j.a,{xs:12,sm:12,md:8,lg:8,className:"checkoutContainer",children:[Object(r.jsx)(Me,{stepNumber:"1",title:"DELIVERY ADDRESS",active:!y&&c.authenticate,body:Object(r.jsx)(r.Fragment,{children:y?Object(r.jsx)("div",{className:"stepCompleted",children:"".concat(R.name," ").concat(R.address," - ").concat(R.pinCode)}):h.map((function(e){return Object(r.jsx)(ze,{selectAddress:V,enableAddressEditForm:X,confirmDeliveryAddress:K,onAddressSubmit:W,adr:e})}))})}),y?null:i?Object(r.jsx)(Qe,{onSubmitForm:W,onCancel:function(){}}):c.authenticate?Object(r.jsx)(Me,{stepNumber:"+",title:"ADD NEW ADDRESS",active:!1,onClick:function(){return l(!0)}}):null,Object(r.jsx)(Me,{stepNumber:"2",title:"ORDER SUMMARY",active:I,body:I?Object(r.jsx)(o.a,{children:Object(r.jsx)(Fe,{onlyCartItems:!0})}):N?Object(r.jsxs)("div",{className:"stepCompleted",children:[Object.keys(B.cartItems).length," items"]}):null}),I&&Object(r.jsx)("div",{style:{margin:"10px 0",backgroundColor:"#fff"},children:Object(r.jsxs)("div",{className:"flexRow sb",style:{padding:"20px",alignItems:"center"},children:[Object(r.jsxs)("div",{style:{fontSize:"12px"},children:["Order confirmation sms/call will be sent to"," ",Object(r.jsx)("strong",{children:R.mobileNumber})]}),Object(r.jsx)(qe,{title:"CONTINUE",onClick:function(){Object.keys(B.cartItems).reduce((function(e,t){return e+B.cartItems[t].qty}),0)&&(w(!0),T(!1),P(!0))},style:{width:"200px"}})]})}),Object(r.jsx)(Me,{stepNumber:"3",title:"PAYMENT OPTIONS",active:F,body:F&&Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"flexRow",style:{alignItems:"center",padding:"20px"},children:Object(r.jsx)("div",{children:"Cash on delivery"})}),Object(r.jsx)(qe,{title:"CONFIRM ORDER",onClick:function(){var e=Object.keys(B.cartItems).reduce((function(e,t){var c=B.cartItems[t];return e+c.price*c.qty}),0);e>499?e=e:e+=18;var t=Object.keys(B.cartItems).map((function(e){return{productId:e,payablePrice:B.cartItems[e].price,purchasedQty:B.cartItems[e].qty}})),c=Object.keys(B.cartItems).reduce((function(e,t){var c=B.cartItems[t];return e+c.quantity*c.qty}),0),r={addressId:R._id,totalAmount:e,totalMrp:c,items:t,paymentStatus:"pending",paymentType:"cod"};console.log(r),H(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(c){var r,a,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,de.post("/addOrder",e);case 3:r=t.sent,c({type:Y.ADD_USER_ORDER_REQUEST}),201===r.status?(console.log(r),a=r.data.order,c({type:Y.ADD_USER_ORDER_SUCCESS,payload:{order:a}})):(n=r.data.error,c({type:Y.ADD_USER_ORDER_FAILURE,payload:{error:n}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(r)),z(!0)},style:{width:"200px",margin:"0 0 20px 20px"}})]})})]}),Object(r.jsx)(j.a,{xs:12,sm:12,md:4,lg:4,style:{backgroundColor:"#fff"},className:"addressContainer",children:Object(r.jsx)(Ge,{totalItem:Object.keys(B.cartItems).reduce((function(e,t){return e+B.cartItems[t].qty}),0),totalPrice:Object.keys(B.cartItems).reduce((function(e,t){var c=B.cartItems[t];return e+c.price*c.qty}),0),totalMrp:Object.keys(B.cartItems).reduce((function(e,t){var c=B.cartItems[t];return e+c.quantity*c.qty}),0)})})]})})})},He=(c(115),function(e){return Object(r.jsxs)("div",Object(J.a)(Object(J.a)({className:"card"},e),{},{children:[(e.headerLeft||e.headerRight)&&Object(r.jsxs)("div",{className:"cardHeader",children:[e.headerLeft&&Object(r.jsx)("div",{style:{alignSelf:"center",fontSize:"20px",fontWeight:"500"},children:e.headerLeft}),e.headerRight&&e.headerRight]}),e.children]}))}),Ye=(c(116),function(e){var t=Object(p.b)(),c=Object(p.c)((function(e){return e.user})),n=function(e){if(e){var t=new Date(e);return"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear())}return""};return Object(a.useEffect)((function(){t(function(){var e=Object(m.a)(x.a.mark((function e(t){var c,r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.get("/getOrders");case 3:c=e.sent,t({type:Y.GET_USER_ORDER_REQUEST}),200===c.status?(console.log(c),r=c.data.orders,t({type:Y.GET_USER_ORDER_SUCCESS,payload:{orders:r}})):(a=c.data.error,t({type:Y.GET_USER_ORDER_FAILURE,payload:{error:a}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(r.jsx)(De,{children:Object(r.jsx)(o.a,{children:Object(r.jsxs)("div",{style:{maxWidth:"1160px",marginTop:"75px"},children:[Object(r.jsx)(Se,{breed:[{name:"Home",href:"/"},{name:"My Account",href:"/account"},{name:"My Orders",href:"/account/orders"}],breedIcon:Object(r.jsx)(he.b,{})}),c.orders.map((function(e){return Object(r.jsx)(He,{style:{margin:"5px 0",padding:"5px 10px"},children:Object(r.jsx)(be.b,{to:"/order_details/".concat(e._id),children:Object(r.jsxs)(O.a,{children:[Object(r.jsx)(j.a,{xs:12,sm:6,md:6,lg:3,children:"Ordered on ".concat(n(e.orderStatus[0].date))}),Object(r.jsxs)(j.a,{xs:12,sm:6,md:6,lg:3,children:["\u20b9 ",e.totalAmount,"(",e.items.length," items)--"]}),Object(r.jsx)(j.a,{xs:12,sm:6,md:6,lg:3,children:"CASH ON DELIVERY"}),Object(r.jsx)(j.a,{xs:12,sm:6,md:6,lg:3,children:e.orderStatus[3].isCompleted&&"Delivered on ".concat(n(e.orderStatus[3].date))})]})})})}))]})})})}),We=c(73),Je=function(e){return Object(r.jsxs)("div",{style:{fontSize:e.fontSize?e.fontSize:"14px",fontWeight:"bold",margin:"5px 0"},children:[Object(r.jsx)(We.a,{}),e.value]})},Ve=(c(117),function(e){var t=Object(p.b)(),c=Object(p.c)((function(e){return e.user.orderDetails}));Object(a.useEffect)((function(){var c={orderId:e.match.params.orderId};t(function(e){return function(){var t=Object(m.a)(x.a.mark((function t(c){var r,a,n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,de.post("/getOrder",e);case 3:r=t.sent,c({type:Y.GET_USER_ORDER_DETAILS_REQUEST}),200===r.status?(console.log(r),a=r.data.order,c({type:Y.GET_USER_ORDER_DETAILS_SUCCESS,payload:{order:a}})):(n=r.data.error,c({type:Y.GET_USER_ORDER_DETAILS_FAILURE,payload:{error:n}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(c))}),[]);var n=function(e){if(e){var t=new Date(e);return"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear())}return""};return c&&c.address?Object(r.jsx)(De,{children:Object(r.jsxs)(o.a,{children:[Object(r.jsx)(He,{style:{margin:"10px 0"},children:Object(r.jsx)("div",{className:"delAdrContainer",children:Object(r.jsxs)(O.a,{children:[Object(r.jsx)(j.a,{xs:12,sm:12,md:6,lg:6,children:Object(r.jsxs)("div",{className:"delAdrDetails",children:[Object(r.jsx)("div",{className:"delTitle",children:"Delivery Address"}),Object(r.jsxs)("div",{className:"delName",children:[c.address.name," ",c.address.addressType]}),Object(r.jsxs)("div",{className:"delAddress",children:[c.address.locality,", ",c.address.address]}),Object(r.jsx)("div",{className:"delAddress"}),Object(r.jsx)("div",{className:"delPhoneNumber",children:c.address.mobileNumber})]})}),Object(r.jsx)(j.a,{xs:12,sm:12,md:6,lg:6,children:Object(r.jsxs)("div",{className:"delMoreActionContainer",children:[Object(r.jsx)("div",{style:{padding:"25px 30px"},children:Object(r.jsx)("div",{className:"orderTrack",children:c.orderStatus.map((function(e){return Object(r.jsxs)("div",{className:"orderStatus ".concat(e.isCompleted?"active":""),children:[Object(r.jsx)("div",{className:"point ".concat(e.isCompleted?"active":"")}),Object(r.jsxs)("div",{className:"orderInfo",children:[Object(r.jsx)("div",{className:"status",children:e.type}),Object(r.jsx)("div",{className:"date",children:n(e.date)})]})]})}))})}),Object(r.jsx)("div",{style:{marginTop:"10px",fontWeight:"500",fontSize:14},children:c.orderStatus[3].isCompleted&&"Delivered on ".concat(function(e){if(e){var t=new Date(e);return"".concat(["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear())}}(c.orderStatus[3].date))})]})})]})})}),Object(r.jsx)(O.a,{children:c.items.map((function(e,t){return Object(r.jsx)(j.a,{xs:12,sm:12,md:6,lg:4,children:Object(r.jsx)(He,{style:{display:"flex",padding:"20px 0",margin:"10px 0"},children:Object(r.jsxs)(O.a,{children:[Object(r.jsx)(j.a,{xs:4,sm:4,md:4,lg:4,className:"delItemImgContainer",children:Object(r.jsx)("img",{src:ie(e.productId.productPictures[0].img),alt:e.productId.name})}),Object(r.jsxs)(j.a,{xs:8,sm:8,md:8,lg:8,children:[Object(r.jsx)("div",{className:"delItemName",children:e.productId.name}),Object(r.jsx)(Je,{value:e.payablePrice}),Object(r.jsx)("div",{children:e.purchasedQty})]})]})})})}))})]})}):null});var Ke=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e.auth}));return Object(a.useEffect)((function(){t.authenticate||e(function(){var e=Object(m.a)(x.a.mark((function e(t){var c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(c=localStorage.getItem("token"))?(r=JSON.parse(localStorage.getItem("user")),t({type:A,payload:{token:c,user:r}})):t({type:T,payload:{error:""}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t.authenticate]),Object(a.useEffect)((function(){e(function(){var e=Object(m.a)(x.a.mark((function e(t){var c,r,a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=se.getState(),r=c.auth,a=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):null,!r.authenticate){e.next=16;break}if(localStorage.removeItem("cart"),!a){e.next=13;break}if(n={cartItems:Object.keys(a).map((function(e,t){return{quantity:a[e].qty,product:a[e]._id}}))},!(Object.keys(a).length>0)){e.next=11;break}return e.next=9,de.post("/user/cart/addtocart",n);case 9:201===e.sent.status&&t(ve());case 11:e.next=14;break;case 13:t(ve());case 14:e.next=17;break;case 16:a&&t({type:q,payload:{cartItems:a}});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t.authenticate]),Object(r.jsx)("div",{children:Object(r.jsx)(be.a,{children:Object(r.jsxs)(Ue.c,{children:[Object(r.jsx)(Ue.a,{path:"/cart",component:Fe}),Object(r.jsx)(Ue.a,{path:"/order_details/:orderId",component:Ve}),Object(r.jsx)(Ue.a,{path:"/account/orders",component:Ye}),Object(r.jsx)(Ue.a,{path:"/product/:slug",component:Ne}),Object(r.jsx)(Ue.a,{path:"/checkout",component:Be}),Object(r.jsx)(Ue.a,{path:"/category",component:Te}),Object(r.jsx)(Ue.a,{exact:!0,path:"/",component:Ae})]})})})},Xe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,134)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),r(e),a(e),n(e),s(e)}))};window.store=se,i.a.render(Object(r.jsx)(p.a,{store:se,children:Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(Ke,{})})}),document.getElementById("root")),Xe()},66:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){}},[[118,1,2]]]);
//# sourceMappingURL=main.3b859118.chunk.js.map